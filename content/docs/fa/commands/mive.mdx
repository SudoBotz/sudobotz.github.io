---
title: خرید میوه
description: "سیستم خرید و مدیریت میوه‌جات و محصولات کشاورزی"
icon: Apple
---

import { Card, Cards } from "fumadocs-ui/components/card";
import { 
  Settings, 
  List, 
  DollarSign, 
  Trash2,
  Package,
  Sprout
} from 'lucide-react';

> سیستم خرید و مدیریت میوه‌جات و محصولات کشاورزی

<Cards>

  <Card title="تنظیمات کانال‌ها" href="#تنظیم-کانالهای-شنود" icon={<Settings className="w-5 h-5 text-blue-500" />}>
    راه‌اندازی و مدیریت کانال‌های شنود
  </Card>

  <Card title="مشاهده گزارش‌ها" href="#مشاهده-گزارشها" icon={<List className="w-5 h-5 text-green-500" />}>
    بررسی لیست کاربران و میوه‌ها
  </Card>

  <Card title="محاسبه مالی" href="#جزئیات-مالی" icon={<DollarSign className="w-5 h-5 text-yellow-500" />}>
    مشاهده مبالغ و جزئیات خرید
  </Card>

  <Card title="مدیریت میوه‌ها" href="#ریست-کردن-میوهها" icon={<Trash2 className="w-5 h-5 text-red-500" />}>
    پاک کردن و ریست میوه‌ها
  </Card>

</Cards>

## معرفی سیستم

این سیستم برای خرید و مدیریت میوه‌جات و محصولات کشاورزی طراحی شده است. ربات به صورت خودکار پیام‌های کانال‌های لاکر را شنود کرده و میوه‌های گذاشته شده توسط کاربران را حساب می‌کند.

## ایتم‌های مجاز

<Callout type="info" title="لیست کامل میوه‌ها و محصولات">
ایتم‌های زیر در این سیستم پشتیبانی می‌شوند:

- `Gandom` - گندم
- `Zorrat` - ذرت
- `Berenj` - برنج
- `Portaghal` - پرتقال
- `Sib` - سیب
- `Angoor` - انگور

💡 **جمعاً 6 ایتم** در این سیستم قابل خرید و فروش است.
</Callout>

---

## تنظیم کانال‌های شنود

### افزودن کانال شنود

<Callout type="info" title="تنظیم کانال لاکر">
برای تنظیم کانالی که ربات پیام‌های لاکر را شنود کند:
```
/stp mive add channel:#locker1
```

**توضیح:**
- هر زمان کاربری در کانال مشخص شده میوه اضافه کند، ربات آن را حساب می‌کند
- محدودیتی در تعداد کانال‌های شنود وجود ندارد
- می‌توانید چندین کانال مختلف اضافه کنید

**مثال:**
```
/stp mive add channel:#locker1
/stp mive add channel:#locker2
/stp mive add channel:#farm-storage
```
</Callout>

### حذف یک کانال شنود

<Callout type="info" title="حذف کانال خاص">
برای حذف یک کانال خاص از لیست شنود:
```
/stp mive remove channel:#locker1
```

این دستور فقط کانال مشخص شده را از لیست حذف می‌کند و سایر کانال‌ها همچنان فعال می‌مانند.
</Callout>

### حذف تمام کانال‌ها

<Callout type="warn" title="پاک کردن همه کانال‌های شنود">
برای پاک کردن تمام کانال‌های شنود:
```
/stp mive clear
```

⚠️ **هشدار:** این دستور تمام کانال‌های شنود را حذف می‌کند! ربات دیگر هیچ کانالی را شنود نخواهد کرد.
</Callout>

---

## تنظیم کانال خروجی

### تنظیم کانال لاگ

<Callout type="info" title="کانال ارسال لاگ">
برای تنظیم کانالی که لاگ‌های خرید در آن ارسال شود:
```
/stp mive set_output channel:#mive
```

**توضیح:**
- هر زمان کاربری میوه در لاکر بگذارد، پیام لاگ در این کانال ارسال می‌شود
- این قابلیت برای نظارت لحظه‌ای بر خریدها مفید است
- تنظیم این کانال اختیاری است

**نمونه لاگ:**
```
DEP: Amir_Kenzo | 🍎Sib:1x | ⁠╭🔴︴𝗟𝗼𝗰𝗸𝗲𝗿𝟭⁠ ✅ | 2025-09-05 05:46:27
```
</Callout>

### حذف کانال خروجی

<Callout type="warn" title="پاک کردن کانال لاگ">
برای پاک کردن کانال خروجی لاگ:
```
/stp mive clear_output
```

بعد از اجرای این دستور، دیگر لاگ‌ها در هیچ کانالی ارسال نمی‌شوند (اما شمارش میوه‌ها همچنان ادامه دارد).
</Callout>

---

## مشاهده تنظیمات

<Callout type="info" title="لیست کانال‌های تنظیم شده">
برای مشاهده لیست کانال‌های شنود و خروجی:
```
/stp mive list
```


این دستور به شما کمک می‌کند تا از تنظیمات فعلی مطمئن شوید.
</Callout>

---

## مشاهده گزارش‌ها

### گزارش کلی کاربران

<Callout type="info" title="لیست کاربران و مبالغ">
برای مشاهده لیست کلی کاربرانی که میوه گذاشته‌اند:
```
/mv
```

**نمونه خروجی:**
```
📊 گزارش میوه انبار

Farmer_Jack: 20x | $30,000
Green_Market: 15x | $18,000
Agri_Reza: 25x | $35,500
Harvest_Ali: 18x | $24,000

💡 برای نمایش میوه‌های یک IC از /mive-items استفاده کنید.
```

**توضیحات:**
- `20x` = تعداد کل میوه‌ها
- `$30,000` = مبلغ کل قابل پرداخت
</Callout>

### جزئیات مالی

<Callout type="info" title="مشاهده دقیق میوه‌های یک کاربر">
برای مشاهده جزئیات دقیق میوه‌های یک کاربر:
```
/mv-items ic_name:Farmer_Jack
```

**نمونه خروجی:**
```
Farmer_Jack

🌾 Gandom: 5x ($7,500)
🌽 Zorrat: 3x ($4,500)
🍊 Portaghal: 4x ($8,000)
🍎 Sib: 3x ($4,500)
🍇 Angoor: 3x ($3,000)
🌾 Berenj: 2x ($2,500)

━━━━━━━━━━━━━━━━━━━━━
📊 تعداد کل: 20x
💰 ارزش کل: $30,000
```

**نکات:**
- پارامتر `ic_name` لیست کاربرهای که میوه گذاشته اند رو نمایش میده
</Callout>

---

## ریست کردن میوه‌ها

<Callout type="warn" title="پاک کردن میوه‌های یک کاربر">
برای ریست کردن میوه‌های یک کاربر خاص بعد از پرداخت:
```
/mv-reset ic_name:Farmer_Jack confirms:y
```

**⚠️ نکات بسیار مهم:**
1. **تایید اجباری**: برای تایید عملیات حذف، **حتماً** باید `confirms:y` ارسال شود
2. **غیرقابل بازگشت**: این عملیات غیرقابل بازگشت است! قبل از اجرا مطمئن شوید
3. **پرداخت اول**: حتماً قبل از ریست کردن، مبلغ را به کاربر پرداخت کنید
4. **بررسی دقیق**: با دستور `/mv-items` جزئیات را قبل از ریست بررسی کنید

**مثال فرآیند کامل:**
```bash
# 1. مشاهده لیست کل
/mv

# 2. بررسی جزئیات یک کاربر
/mv-items ic_name:Farmer_Jack

# 3. پرداخت $30,000 به کاربر (خارج از ربات)

# 4. ریست کردن میوه‌ها
/mv-reset ic_name:Farmer_Jack confirms:y
```

</Callout>

---

## نحوه استفاده (گام به گام)

<Callout type="info" title="راهنمای سریع راه‌اندازی">
**مرحله 1: تنظیم اولیه**
```bash
# افزودن کانال‌های لاکر
/stp mive add channel:#locker1
/stp mive add channel:#locker2

# تنظیم کانال لاگ (اختیاری)
/stp mive set_output channel:#mive

# بررسی تنظیمات
/stp mive list
```

**مرحله 2: نظارت خودکار**
- ربات به صورت خودکار میوه‌های گذاشته شده را شمارش می‌کند
- در صورت تنظیم کانال خروجی، لاگ‌ها ارسال می‌شوند

**مرحله 3: مشاهده گزارش‌ها**
```bash
# لیست کلی
/mv

# جزئیات یک کاربر
/mv-items ic_name:Farmer_Jack
```

**مرحله 4: پرداخت و ریست**
```bash
# بعد از پرداخت مبلغ به کاربر
/mv-reset ic_name:Farmer_Jack confirms:y
```
</Callout>

---

## خلاصه دستورات

<Callout type="info" title="جدول دستورات">
| دستور | کاربرد | نوع |
|-------|---------|------|
| `/stp mive add channel:#xxx` | افزودن کانال شنود | تنظیمات |
| `/stp mive remove channel:#xxx` | حذف کانال شنود خاص | تنظیمات |
| `/stp mive clear` | حذف تمام کانال‌های شنود | تنظیمات |
| `/stp mive set_output channel:#xxx` | تنظیم کانال خروجی | تنظیمات |
| `/stp mive clear_output` | حذف کانال خروجی | تنظیمات |
| `/stp mive list` | نمایش تنظیمات | تنظیمات |
| `/mv` | گزارش کلی کاربران | گزارش |
| `/mv-items ic_name:xxx` | جزئیات میوه‌های کاربر | گزارش |
| `/mv-reset ic_name:xxx confirms:y` | ریست میوه‌های کاربر | مدیریت |
</Callout>

---

## نکات مهم و توصیه‌ها

<Callout type="warn" title="نکات کلیدی">
**امنیت و دقت:**
1. ✅ همیشه قبل از ریست، مبلغ را پرداخت کنید
2. ✅ با دستور `/mv-items` جزئیات را بررسی کنید
3. ⚠️ ریست کردن غیرقابل بازگشت است

**بهینه‌سازی:**
- 📊 برای نظارت بهتر، کانال خروجی تنظیم کنید
- 📝 یک لیست از پرداخت‌ها در خارج از ربات نگه دارید

**محدودیت‌ها:**
- ❌ محدودیتی در تعداد کانال‌های شنود نیست
- ❌ محدودیتی در تعداد کاربران نیست
- ✅ فقط میوه‌های مجاز لیست شده حساب می‌شوند
</Callout>

<Callout type="warn" title="قابلیت تنظیم قیمت">
- به زودی قابلیت تنظیم قیمت هم اضافه خواهد شد
</Callout>

